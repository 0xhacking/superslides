// Generated by CoffeeScript 1.3.3

/*
  Superslides 0.5-wip
  Fullscreen slideshow plugin for jQuery
  by Nic Aitch @nicinabox
  http://nicinabox.github.com/superslides/
*/


(function() {
  var Superslides, name;

  Superslides = function(el, options) {
    var parse,
      _this = this;
    if (options == null) {
      options = {};
    }
    this.options = $.extend({
      delay: 5000,
      play: false,
      slide_speed: 'normal',
      slide_easing: 'linear',
      nav_class: 'slides-navigation',
      container_class: 'slides-container',
      pagination: false,
      hashchange: false,
      scrollable: true
    }, options);
    parse = function(direction) {
      switch (true) {
        case /next/.test(direction):
          return 'next';
        case /prev/.test(direction):
          return 'prev';
        case /\d/.test(direction):
          return direction;
        default:
          return 0;
      }
    };
    this.curr = 0;
    this.next = this.curr + 1;
    this.prev = this.curr - 1;
    this.size = function() {
      return $("." + _this.options.container_class).children().length;
    };
    this.stop = function() {
      clearInterval(_this.play_id);
      return delete _this.play_id;
    };
    this.start = function() {
      if (options.play) {
        if (_this.play_id) {
          _this.stop();
        }
        return _this.play_id = setInterval(function() {
          return false;
        }, options.delay);
      }
    };
    this.animate = function(direction) {
      return direction = parse(direction);
    };
    return this;
  };

  name = 'superslides';

  $.fn[name] = function(option, args) {
    var $this, data;
    if (typeof option === "string") {
      $this = $(this);
      data = $this.data(name);
      return data[option].call($this, args);
    }
    return this.each(function() {
      var options;
      $this = $(this);
      data = $this.data(name);
      options = typeof option === 'object' && option;
      if (!data) {
        return $this.data(name, (data = new Superslides(this, options)));
      }
    });
  };

}).call(this);

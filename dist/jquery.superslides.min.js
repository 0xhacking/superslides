/*! Superslides - v0.5.0 - 2012-12-02
* https://github.com/nicinabox/superslides
* Copyright (c) 2012 Nic Aitch; Licensed MIT */
var Superslides,name;Superslides=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C=this;return t==null&&(t={}),this.options=$.extend({delay:5e3,play:!1,slide_speed:"normal",slide_easing:"linear",nav_class:"slides-navigation",container_class:"slides-container",pagination:!1,hashchange:!1,scrollable:!0},t),T=this,s=$(window),r=$("."+this.options.container_class),n=r.children(),i=$("<div>",{"class":"slides-control"}),d=1,c=!1,N=s.width(),l=s.height(),h=function(){if(c)return;return d=f(),y(),C.mobile=/mobile/i.test(navigator.userAgent),i=r.wrap(i).parent(".slides-control"),x(),C.start(),C},x=function(){return i.css({width:N*d,height:l,left:-N})},S=function(){return n.not(".current").css({display:"none",position:"absolute",overflow:"hidden",top:0,left:N,zIndex:0}),u(n)},p=function(e,t){return $("<img>",{src:e.attr("src")}).load(function(){if(t instanceof Function)return t(this)})},E=function(e){var t;return t=N/e.data("aspect-ratio"),t>=l?e.css({top:-(t-l)/2}):e.css({top:0})},w=function(e){var t;return t=l*e.data("aspect-ratio"),t>=N?e.css({left:-(t-N)/2}):e.css({left:0})},o=function(e){if(!e.data("aspect-ratio")){p(e,function(t){return e.removeAttr("width").removeAttr("height"),e.data("aspect-ratio",t.width/t.height),o(e)});return}return w(e),E(e)},u=function(e){return T=C,e.each(function(e){return $(this).width(N).height(l),$(this).css({left:N}),o($("img",this).not(".keep-original"))})},f=function(){return C.size()===1?1:3},v=function(){var e;return e=C.current+1,e===C.size()&&(e=0),e},b=function(){var e;return e=C.current-1,e===-1&&(e=C.size()-1),e},m=function(e){switch(!0){case/next/.test(e):return v();case/prev/.test(e):return b();case/\d/.test(e):return e;default:return v()}},g=function(e){e==null&&(e=window.location.hash),e=e.replace(/^#/,"");if(e)return+e},y=function(e){return C.current=e||0,C.next=v(),C.prev=b(),!1},a=function(e){var s,o,u;return T=C,u=N*2,o=-u,!c&&C.current===0?s=C.current:s=C.next,n.removeClass("current"),n.eq(s).addClass("current").css({left:u,display:"block"}),i.animate({useTranslate3d:C.mobile,left:o},t.slide_speed,t.slide_easing,function(){return typeof e=="function"&&e(),y(C.next),C.animating=!1,c?r.trigger("slides.animated"):(c=!0,y(0),r.trigger("slides.init"))})},this.$el=$(e),this.update=function(){return y(),r.trigger("slides.changed")},this.destroy=function(){return $(e).removeData()},this.size=function(){return r.children().length},this.stop=function(){return clearInterval(C.play_id),delete C.play_id},this.start=function(){return S(),s.trigger("hashchange"),C.animate("next",function(){return r.fadeIn("fast")}),C.options.play&&(C.play_id&&C.stop(),C.play_id=setInterval(function(){return!1},t.delay)),r.trigger("slides.started")},this.animate=function(e,t){var n;e==null&&(e="next");if(C.animating)return;C.animating=!0,n=m(e);if(n>C.size())return;return n===e&&y(n-1),a(t)},s.on("hashchange",function(e){var t;t=g();if(t)return T.animate(t)}).on("resize",function(e){return N=s.width(),l=s.height(),u(n),x()}).on("click","."+t.nav_class+" a",function(e){return e.preventDefault(),T.stop(),$(this).hasClass("next")?animate("next"):animate("prev")}),h()},name="superslides",$.fn[name]=function(e,t){var n,r,i;return typeof e=="string"?(n=$(this),r=n.data(name),i=r[e],typeof i=="function"&&(i=i.call(n,t)),i):this.each(function(){var t;n=$(this),r=n.data(name),t=typeof e=="object"&&e;if(!r)return n.data(name,r=new Superslides(this,t))})};
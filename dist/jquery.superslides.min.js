/*! Superslides - v0.5.0 - 2012-12-14
* https://github.com/nicinabox/superslides
* Copyright (c) 2012 Nic Aitch; Licensed MIT */
var Superslides,plugin;Superslides=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M=this;return t==null&&(t={}),this.options=$.extend({play:!1,slide_speed:"normal",slide_easing:"linear",pagination:!0,hashchange:!1,scrollable:!0,classes:{nav:"slides-navigation",container:"slides-container",pagination:"slides-pagination"}},t),k=this,o=$(window),r=$("."+this.options.classes.container),n=r.children(),s=$("<nav>",{"class":this.options.classes.pagination}),i=$("<div>",{"class":"slides-control"}),g=1,d=!1,O=o.width(),p=o.height(),v=function(){if(d)return;return g=h(),w(),M.mobile=/mobile/i.test(navigator.userAgent),i=r.wrap(i).parent(".slides-control"),M.size()<=1&&$("."+M.options.classes.nav).hide(),N(),u(),M.start(),M},N=function(){return i.css({width:O*g,height:p,left:-O})},T=function(){return n.css({display:"none",position:"absolute",overflow:"hidden",top:0,left:O,zIndex:0}),l(n)},C=function(){return $("."+M.options.classes.nav+" a").each(function(){return $(this).hasClass("next")?this.hash=k.next:this.hash=k.prev})},u=function(){if(!M.options.pagination||M.size()===1)return;return $(e).append(s),n.each(function(e){return a(e)})},a=function(e){return e>=0||(e=M.size()-1),s.append($("<a>",{href:"#"+e}))},A=function(){var t;if(!M.options.pagination||M.size()===1)return;return $(e).find("."+M.options.classes.pagination).length?t=s.children().last().index():(t=0,$(e).append(s)),$.each(new Array(M.size()-t),function(e){return a(e)})},m=function(e,t){return $("<img>",{src:e.attr("src")}).load(function(){if(t instanceof Function)return t(this)})},x=function(e){var t;return t=O/e.data("aspect-ratio"),t>=p?e.css({top:-(t-p)/2}):e.css({top:0})},S=function(e){var t;return t=p*e.data("aspect-ratio"),t>=O?e.css({left:-(t-O)/2}):e.css({left:0})},f=function(e){if(!e.data("aspect-ratio")){m(e,function(t){return e.removeAttr("width").removeAttr("height"),e.data("aspect-ratio",t.width/t.height),f(e)});return}return S(e),x(e)},l=function(e){return e.each(function(e){return $(this).width(O).height(p),$(this).css({left:O}),f($("img",this).not(".keep-original"))})},h=function(){return M.size()===1?1:3},y=function(){var e;return e=M.current+1,e===M.size()&&(e=0),e},E=function(){var e;return e=M.current-1,e<0&&(e=M.size()-1),e},L=function(e){switch(!0){case/next/.test(e):return y();case/prev/.test(e):return E();case/\d/.test(e):return e;default:return!1}},b=function(e){e==null&&(e=window.location.hash),e=e.replace(/^#/,"");if(e)return+e},w=function(e){return e==null&&(e=-1),d&&M.current>=0&&e<0&&(e=M.current),M.current=e,M.next=y(),M.prev=E(),!1},c=function(e,t){var o,u,a,f;return a=O*2,o=-a,u=M.current,e===M.prev&&(a=0,o=0),f=a,n.removeClass("current").eq(e).addClass("current").css({left:f,display:"block"}),s.children().removeClass("current").eq(e).addClass("current"),i.animate({useTranslate3d:M.mobile,left:o},M.options.slide_speed,M.options.slide_easing,function(){return w(e),M.size()>1&&(i.css({left:-O}),n.eq(e).css({left:O,zIndex:2}),n.eq(u).css({left:O,display:"none",zIndex:0})),typeof t=="function"&&t(),C(),M.animating=!1,d?r.trigger("animated.slides"):(d=!0,r.fadeIn("fast"),r.trigger("init.slides"))})},this.$el=$(e),this.animate=function(e,t){var n;e==null&&(e="next");if(M.animating)return;M.animating=!0,n=L(e);if(n>=M.size())return;return c(n,t)},this.update=function(){return w(M.current),A(),r.trigger("updated.slides")},this.destroy=function(){return $(e).removeData()},this.size=function(){return r.children().length},this.stop=function(){return clearInterval(M.play_id),delete M.play_id,r.trigger("stopped.slides")},this.start=function(){return T(),M.options.hashchange&&o.trigger("hashchange"),M.animate("next"),M.options.play&&(M.play_id&&M.stop(),M.play_id=setInterval(function(){return M.animate("next"),!1},M.options.play)),r.trigger("started.slides")},o.on("hashchange",function(e){var t;t=b();if(t>=0)return M.animate(t)}).on("resize",function(e){return O=o.width(),p=o.height(),N(),l(n)}),$(document).on("click","."+this.options.classes.nav+" a",function(e){return k.options.hashchange||e.preventDefault(),k.stop(),$(this).hasClass("next")?k.animate("next"):k.animate("prev")}).on("click","."+this.options.classes.pagination+" a",function(e){var t;if(!k.options.hashchange)return e.preventDefault(),t=b(this.hash),k.animate(t)}),v()},plugin="superslides",$.fn[plugin]=function(e,t){var n;return n=[],this.each(function(){var r,i,s;r=$(this),i=r.data(plugin),s=typeof e=="object"&&e,i||(n=r.data(plugin,i=new Superslides(this,s)));if(typeof e=="string"){n=i[e];if(typeof n=="function")return n=n.call(this,t)}}),n};
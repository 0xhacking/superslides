/*! Superslides - v0.5.0 - 2012-12-02
* https://github.com/nicinabox/superslides
* Copyright (c) 2012 Nic Aitch; Licensed MIT */
var Superslides,name;Superslides=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C=this;return t==null&&(t={}),this.options=$.extend({delay:5e3,play:!1,slide_speed:"normal",slide_easing:"linear",nav_class:"slides-navigation",container_class:"slides-container",pagination:!1,hashchange:!1,scrollable:!0},t),x=this,s=$(window),r=$("."+this.options.container_class),n=r.children(),i=$("<div>",{"class":"slides-control"}),d=1,c=!1,N=s.width(),l=s.height(),h=function(){if(c)return;return d=f(),g(),C.mobile=/mobile/i.test(navigator.userAgent),i=r.wrap(i).parent(".slides-control"),S(),C.start(),C},S=function(){return i.css({width:N*d,height:l,left:-N})},E=function(){return n.not(".current").css({display:"none",position:"absolute",overflow:"hidden",top:0,zIndex:0}),u(n)},p=function(e,t){return $("<img>",{src:e.attr("src")}).load(function(){if(t instanceof Function)return t(this)})},w=function(e){var t;return t=N/e.data("aspect-ratio"),t>=l?e.css({top:-(t-l)/2}):e.css({top:0})},b=function(e){var t;return t=l*e.data("aspect-ratio"),t>=N?e.css({left:-(t-N)/2}):e.css({left:0})},o=function(e){if(!e.data("aspect-ratio")){p(e,function(t){return e.removeAttr("width").removeAttr("height"),e.data("aspect-ratio",t.width/t.height),o(e)});return}return b(e),w(e)},u=function(e){return x=C,e.each(function(e){return $(this).width(N).height(l),o($("img",this).not(".keep-original"))})},f=function(){return C.size()===1?1:3},v=function(){var e;return e=C.current+1,e===C.size()&&(e=0),e},y=function(){var e;return e=C.current-1,e<0&&(e=C.size()-1),e},T=function(e){switch(!0){case/next/.test(e):return v();case/prev/.test(e):return y();case/\d/.test(e):return e;default:return!1}},m=function(e){e==null&&(e=window.location.hash),e=e.replace(/^#/,"");if(e)return+e},g=function(e){return e==null&&(e=-1),c&&C.current>=0&&e<0&&(e=C.current),C.current=e,C.next=v(),C.prev=y(),!1},a=function(e,t){var s,o,u;return x=C,u=N,s=-u,o=C.current,n.removeClass("current").eq(e).addClass("current").css({display:"block"}),i.animate({useTranslate3d:C.mobile,left:0},C.options.slide_speed,C.options.slide_easing,function(){return g(e),n.eq(o).css({display:"none",zIndex:0}),typeof t=="function"&&t(),C.animating=!1,c?r.trigger("slides.animated"):(c=!0,g(0),r.trigger("slides.init"))})},this.$el=$(e),this.animate=function(e,t){var n;e==null&&(e="next");if(C.animating)return;C.animating=!0,n=T(e);if(n>C.size())return;return n===e&&g(n-1),a(n,t)},this.update=function(){return g(C.current),r.trigger("slides.updated")},this.destroy=function(){return $(e).removeData()},this.size=function(){return r.children().length},this.stop=function(){return clearInterval(C.play_id),delete C.play_id},this.start=function(){return E(),s.trigger("hashchange"),C.animate("next",function(){return r.fadeIn("fast")}),C.options.play&&(C.play_id&&C.stop(),C.play_id=setInterval(function(){return!1},C.options.delay)),r.trigger("slides.started")},s.on("hashchange",function(e){var t;t=m();if(t)return x.animate(t)}).on("resize",function(e){return N=s.width(),l=s.height(),u(n),S()}),$(document).on("click","."+this.options.nav_class+" a",function(e){return e.preventDefault(),x.stop(),$(this).hasClass("next")?x.animate("next"):x.animate("prev")}),h()},name="superslides",$.fn[name]=function(e,t){var n,r,i;return typeof e=="string"?(n=$(this),r=n.data(name),i=r[e],typeof i=="function"&&(i=i.call(n,t)),i):this.each(function(){var t;n=$(this),r=n.data(name),t=typeof e=="object"&&e;if(!r)return n.data(name,r=new Superslides(this,t))})};
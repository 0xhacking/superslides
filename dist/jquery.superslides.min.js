/*! Superslides - v0.5.0 - 2012-12-14
* https://github.com/nicinabox/superslides
* Copyright (c) 2012 Nic Aitch; Licensed MIT */
var Superslides,plugin;Superslides=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L=this;return t==null&&(t={}),this.options=$.extend({play:!1,slide_speed:"normal",slide_easing:"linear",pagination:!0,hashchange:!1,scrollable:!0,classes:{nav:"slides-navigation",container:"slides-container",pagination:"slides-pagination"}},t),o=$(window),r=$("."+this.options.classes.container),n=r.children(),s=$("<nav>",{"class":this.options.classes.pagination}),i=$("<div>",{"class":"slides-control"}),g=1,d=!1,k=o.width(),p=o.height(),v=function(){if(d)return;return g=h(),w(),L.mobile=/mobile/i.test(navigator.userAgent),i=r.wrap(i).parent(".slides-control"),N(),T(),u(),L.start(),L},N=function(){return i.css({width:k*g,height:p,left:-k})},T=function(){return n.css({display:"none",position:"absolute",overflow:"hidden",top:0,left:k,zIndex:0}),l(n)},u=function(){if(!L.options.pagination)return;return $(e).append(s),n.each(function(e){return a(e)})},a=function(e){return e>=0||(e=L.size()-1),s.append($("<a>",{href:"#"+e}))},m=function(e,t){return $("<img>",{src:e.attr("src")}).load(function(){if(t instanceof Function)return t(this)})},x=function(e){var t;return t=k/e.data("aspect-ratio"),t>=p?e.css({top:-(t-p)/2}):e.css({top:0})},S=function(e){var t;return t=p*e.data("aspect-ratio"),t>=k?e.css({left:-(t-k)/2}):e.css({left:0})},f=function(e){if(!e.data("aspect-ratio")){m(e,function(t){return e.removeAttr("width").removeAttr("height"),e.data("aspect-ratio",t.width/t.height),f(e)});return}return S(e),x(e)},l=function(e){return e.each(function(e){return $(this).width(k).height(p),$(this).css({left:k}),f($("img",this).not(".keep-original"))})},h=function(){return L.size()===1?1:3},y=function(){var e;return e=L.current+1,e===L.size()&&(e=0),e},E=function(){var e;return e=L.current-1,e<0&&(e=L.size()-1),e},C=function(e){switch(!0){case/next/.test(e):return y();case/prev/.test(e):return E();case/\d/.test(e):return e;default:return!1}},b=function(e){e==null&&(e=window.location.hash),e=e.replace(/^#/,"");if(e)return+e},w=function(e){return e==null&&(e=-1),d&&L.current>=0&&e<0&&(e=L.current),L.current=e,L.next=y(),L.prev=E(),!1},c=function(e,t){var o,u,a,f,l;return f=L,a=k*2,o=-a,u=L.current,e===L.prev&&(a=0,o=0),l=a,n.removeClass("current").eq(e).addClass("current").css({left:l,display:"block"}),s.children().removeClass("current").eq(e).addClass("current"),i.animate({useTranslate3d:L.mobile,left:o},L.options.slide_speed,L.options.slide_easing,function(){return w(e),i.css({left:-k}),n.eq(e).css({left:k,zIndex:2}),n.eq(u).css({left:k,display:"none",zIndex:0}),typeof t=="function"&&t(),L.animating=!1,d?r.trigger("slides.animated"):(d=!0,w(0),r.trigger("slides.init"))})},this.$el=$(e),this.animate=function(e,t){var n;e==null&&(e="next");if(L.animating)return;L.animating=!0,n=C(e);if(n>L.size())return;return n===e&&w(n-1),c(n,t)},this.update=function(){return w(L.current),r.trigger("slides.updated")},this.destroy=function(){return $(e).removeData()},this.size=function(){return r.children().length},this.stop=function(){return clearInterval(L.play_id),delete L.play_id},this.start=function(){return T(),o.trigger("hashchange"),L.animate("next",function(){return r.fadeIn("fast")}),L.options.play&&(L.play_id&&L.stop(),L.play_id=setInterval(function(){return L.animate("next"),!1},L.options.play)),r.trigger("slides.started")},o.on("hashchange",function(e){var t;t=b();if(t)return L.animate(t)}).on("resize",function(e){return k=o.width(),p=o.height(),N(),l(n)}),$(document).on("click","."+this.options.classes.nav+" a",function(e){return e.preventDefault(),L.stop(),$(this).hasClass("next")?L.animate("next"):L.animate("prev")}),v()},plugin="superslides",$.fn[plugin]=function(e,t){var n;return n=[],this.each(function(){var r,i,s;r=$(this),i=r.data(plugin),s=typeof e=="object"&&e,i||(n=r.data(plugin,i=new Superslides(this,s)));if(typeof e=="string"){n=i[e];if(typeof n=="function")return n=n.call(this,t)}}),n};
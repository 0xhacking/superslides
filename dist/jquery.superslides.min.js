/*! Superslides - v0.5.0 - 2012-12-14
* https://github.com/nicinabox/superslides
* Copyright (c) 2012 Nic Aitch; Licensed MIT */
var Superslides,plugin;Superslides=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O=this;return t==null&&(t={}),this.options=$.extend({play:!1,slide_speed:"normal",slide_easing:"linear",pagination:!0,hashchange:!1,scrollable:!0,classes:{nav:"slides-navigation",container:"slides-container",pagination:"slides-pagination"}},t),k=this,o=$(window),r=$("."+this.options.classes.container),n=r.children(),s=$("<nav>",{"class":this.options.classes.pagination}),i=$("<div>",{"class":"slides-control"}),g=1,d=!1,A=o.width(),p=o.height(),v=function(){if(d)return;return g=h(),w(),O.mobile=/mobile/i.test(navigator.userAgent),i=r.wrap(i).parent(".slides-control"),N(),u(),O.start(),O},N=function(){return i.css({width:A*g,height:p,left:-A})},T=function(){return n.css({display:"none",position:"absolute",overflow:"hidden",top:0,left:A,zIndex:0}),l(n)},C=function(){return $("."+O.options.classes.nav+" a").each(function(){return $(this).hasClass("next")?this.hash=k.next:this.hash=k.prev})},u=function(){if(!O.options.pagination)return;return $(e).append(s),n.each(function(e){return a(e)})},a=function(e){return e>=0||(e=O.size()-1),s.append($("<a>",{href:"#"+e}))},m=function(e,t){return $("<img>",{src:e.attr("src")}).load(function(){if(t instanceof Function)return t(this)})},x=function(e){var t;return t=A/e.data("aspect-ratio"),t>=p?e.css({top:-(t-p)/2}):e.css({top:0})},S=function(e){var t;return t=p*e.data("aspect-ratio"),t>=A?e.css({left:-(t-A)/2}):e.css({left:0})},f=function(e){if(!e.data("aspect-ratio")){m(e,function(t){return e.removeAttr("width").removeAttr("height"),e.data("aspect-ratio",t.width/t.height),f(e)});return}return S(e),x(e)},l=function(e){return e.each(function(e){return $(this).width(A).height(p),$(this).css({left:A}),f($("img",this).not(".keep-original"))})},h=function(){return O.size()===1?1:3},y=function(){var e;return e=O.current+1,e===O.size()&&(e=0),e},E=function(){var e;return e=O.current-1,e<0&&(e=O.size()-1),e},L=function(e){switch(!0){case/next/.test(e):return y();case/prev/.test(e):return E();case/\d/.test(e):return e;default:return!1}},b=function(e){e==null&&(e=window.location.hash),e=e.replace(/^#/,"");if(e)return+e},w=function(e){return e==null&&(e=-1),d&&O.current>=0&&e<0&&(e=O.current),O.current=e,O.next=y(),O.prev=E(),!1},c=function(e,t){var o,u,a,f;return a=A*2,o=-a,u=O.current,e===O.prev&&(a=0,o=0),f=a,n.removeClass("current").eq(e).addClass("current").css({left:f,display:"block"}),s.children().removeClass("current").eq(e).addClass("current"),i.animate({useTranslate3d:O.mobile,left:o},O.options.slide_speed,O.options.slide_easing,function(){return w(e),i.css({left:-A}),n.eq(e).css({left:A,zIndex:2}),n.eq(u).css({left:A,display:"none",zIndex:0}),typeof t=="function"&&t(),C(),O.animating=!1,d?r.trigger("animated.slides"):(d=!0,r.fadeIn("fast"),r.trigger("init.slides"))})},this.$el=$(e),this.animate=function(e,t){var n;e==null&&(e="next");if(O.animating)return;O.animating=!0,n=L(e);if(n>=O.size())return;return c(n,t)},this.update=function(){return w(O.current),r.trigger("updated.slides")},this.destroy=function(){return $(e).removeData()},this.size=function(){return r.children().length},this.stop=function(){return clearInterval(O.play_id),delete O.play_id,r.trigger("stopped.slides")},this.start=function(){return T(),O.options.hashchange&&o.trigger("hashchange"),O.animate("next"),O.options.play&&(O.play_id&&O.stop(),O.play_id=setInterval(function(){return O.animate("next"),!1},O.options.play)),r.trigger("started.slides")},o.on("hashchange",function(e){var t;t=b();if(t>=0)return O.animate(t)}).on("resize",function(e){return A=o.width(),p=o.height(),N(),l(n)}),$(document).on("click","."+this.options.classes.nav+" a",function(e){return k.options.hashchange||e.preventDefault(),k.stop(),$(this).hasClass("next")?k.animate("next"):k.animate("prev")}).on("click","."+this.options.classes.pagination+" a",function(e){var t;if(!k.options.hashchange)return e.preventDefault(),t=b(this.hash),k.animate(t)}),v()},plugin="superslides",$.fn[plugin]=function(e,t){var n;return n=[],this.each(function(){var r,i,s;r=$(this),i=r.data(plugin),s=typeof e=="object"&&e,i||(n=r.data(plugin,i=new Superslides(this,s)));if(typeof e=="string"){n=i[e];if(typeof n=="function")return n=n.call(this,t)}}),n};